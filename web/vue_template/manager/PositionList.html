<div>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header" role="button" @click="onBackDepartmentList()">
                <span class="glyphicon glyphicon-th-list navbar-text" style="margin-right: 0px;">
                    部门列表
                </span>
            </div>
            <div class="navbar-header" role="cell">
                <span class="navbar-text">/</span>
            </div>
            <div class="navbar-header" role="cell">
                <div class="dropdown" style="margin-top: 8px;">
                    <button class="btn btn-default dropdown-toggle" type="button" :id="'ddmPosList'" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="true">
                        {{dp.Name}}
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" :aria-labelledby="'ddmPosList'">

                        <li v-for="parentDp in allDepartmentList" :key="parentDp.Did">
                            <a @click="onEditParentDp(dp,parentDp)">{{departmentOption(parentDp)}}</a>
                        </li>
                        <li role="separator " class="divider "></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <!--  -->
    <table class="table table-hover">
        <thead>
            <tr>
                <th style="width: 300px;">职位名称</th>
                <th style="width: 160px;">权限</th>
                <th class="text-center" style="width: 100px;">成员数量</th>
                <th style="width: 120px;">排序</th>
                <th>删除</th>
            </tr>
        </thead>
        <transition-group name="list-complete" tag="tbody">
            <tr class="list-complete-item" v-for="pos,index in dp.PositionList" :key="pos.Posid">
                <td>
                    <input type="text" class="form-control" style="display: inline-block;width: auto;" placeholder="空" aria-describedby="basic-addon1"
                        :value="pos.Name" @blur="onEditName($event,pos,index)" @keyup.enter="onEditName($event,pos,index)">
                </td>
                <td>
                    <button class="btn btn-default " type="button" @click="onEditAuth(pos,index)
                            " title="编辑权限 ">
                        <span class="glyphicon glyphicon-briefcase" aria-hidden="true " :title="'该职位有`+pos.AuthorityList.length+`个权限'">
                            ({{pos.AuthorityList.length}})
                        </span>
                    </button>
                </td>
                <td class="text-center text-middle" :title="'该职位下有'+pos.UserList.length+'名成员'">
                    <span>
                        {{pos.UserList.length}}
                    </span>
                </td>
                <td>
                    <button class="btn btn-default " type="button" @click="onSortDown(pos,index)" :disabled="!(index < dp.PositionList.length - 1)">
                        <span class="glyphicon glyphicon-arrow-down " aria-hidden="true "></span>
                    </button>
                    <button class="btn btn-default " type="button" @click="onSortUp(pos,index)" :disabled="!(index > 0)">
                        <span class="glyphicon glyphicon-arrow-up " aria-hidden="true "></span>
                    </button>
                </td>
                <td>
                    <button class="btn btn-warning " type="button" @click="onDel($event,pos,index)">
                        <span class="glyphicon glyphicon-remove " aria-hidden="true "></span>
                    </button>
                </td>
            </tr>
            <tr :key="0">
                <td>
                    <input type="text " class="form-control" placeholder="输入新职位名称 " aria-describedby="basic-addon1 " v-model.trim="newName" @keyup.enter="onAdd()"
                    />
                </td>
                <td>
                    <button class="btn btn-default " type="button" @click="onAdd() ">
                        <span class="glyphicon glyphicon-plus " aria-hidden="true "></span>
                    </button>
                </td>
                <td>
                </td>
                <td>
                </td>
                <td>
                </td>
            </tr>
        </transition-group>
    </table>
</div>