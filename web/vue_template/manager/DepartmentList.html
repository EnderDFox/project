<div class="commonDialog manager" style="min-width:500px; ">
    <table class="table table-hover">
        <thead>
            <thead>
                <tr>
                    <th style="width: 300px;">部门名称</th>
                    <th>迁移</th>
                    <th>操作</th>
                </tr>
            </thead>
            <transition-group name="list-complete" tag="tbody">
                <tr class="list-complete-item" v-for="dp,index in allDepartmentList" :key="dp.Did">
                    <td>
                        <span class="glyphicon glyphicon-minus" aria-hidden="true" v-for="dep,index in dp.Depth"></span>
                        <input type="text" class="form-control" style="display: inline-block;width: auto;" placeholder="空" aria-describedby="basic-addon1"
                            :value="dp.Name" @blur="onEditName($event,dp,index)" @keyup.enter="onEditName($event,dp,index)">
                    </td>
                    <td>
                        <div class="dropdown">
                            <button class="btn btn-default dropdown-toggle" type="button" :id="'ddmDpListDid'+index" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="true">
                                修改上级部门
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" :aria-labelledby="'ddmDpListDid'+index">

                                <li v-for="parentDp in allDepartmentList" :key="parentDp.Did" :class="{'disabled':!CheckShowEditParentDp(dp,parentDp)} ">
                                    <a @click="onEditParentDp(dp,parentDp) ">{{departmentOption(parentDp)}}</a>
                                </li>
                                <li role="separator " class="divider "></li>
                                <li :class="{'disabled':dp.Fid==0}">
                                    <a @click=" onEditParentDp(dp,null) " >作为顶级部门</a>
                                </li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <button class="btn btn-default " type="submit " @click="onEditPosition($event,dp,index)
                                    " title="编辑职位 ">
                            <span class="glyphicon glyphicon-pencil " aria-hidden="true ">
                                职位({{99}})
                            </span>
                        </button>
                        <button class="btn btn-default " type="submit " @click="onSortDown($event,dp,index) ">
                            <span class="glyphicon glyphicon-arrow-down " aria-hidden="true "></span>
                        </button>
                        <button class="btn btn-default " type="submit " @click="onSortUp($event,dp,index) ">
                            <span class="glyphicon glyphicon-arrow-up " aria-hidden="true "></span>
                        </button>
                        <button class="btn btn-default " type="submit ">
                            <span class="glyphicon glyphicon-remove " aria-hidden="true " @click="onDel($event,dp,index) "></span>
                        </button>
                        <button class="btn btn-default " type="submit " @click="onAdd() " title="增加子部门 ">
                            <span class="glyphicon glyphicon-plus-sign " aria-hidden="true "></span>
                        </button>
                    </td>
                </tr>
                <tr :key="0 ">
                    <td>
                        <input type="text " class="form-control " placeholder="输入新部门名称 " aria-describedby="basic-addon1 " />
                    </td>
                    <td>
                    </td>
                    <td>
                        <button class="btn btn-default " type="submit " @click="onAdd() ">
                            <span class="glyphicon glyphicon-plus " aria-hidden="true "></span>
                        </button>
                    </td>
                </tr>
            </transition-group>
        </thead>
    </table>
</div>