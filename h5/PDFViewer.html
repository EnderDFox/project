<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes" />


  <title>PDF</title>
  <!--  -->
  <link href="lib3/bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">
  <style type="text/css">
    body {
      overflow: hidden;
    }

    .doc {
      /* position: absolute; */
      /* border: 1px solid #313131; */
      width: 100%;
      height: 100%;
    }

    /* .doc .buttonBar {
    } */

    .doc .btn_drag {
      float: right;
    }

    .doc .label_scale {
      min-width: 30px;
      display: inline-block;
      text-align: center;
    }

    .doc canvas {
      border: 1px solid rgb(65, 65, 65);
      position: absolute;
      left: 30px;
      top: 30px;
      z-index: -1;
    }

    .log,
    .outline {
      position: absolute;
      left: 14px;
      top: 30px;
      border: 1px solid #313131;
      background-color: rgba(255, 255, 255, 0.82);
      max-height: 90%;
      min-width: 200px;
      overflow-y: auto;
      padding-right: 8px;
      white-space: nowrap;
      /* 防止拖到右侧边缘后  宽度修改(因为document宽度小,把outline宽度挤窄了)*/
    }

    .log {
      left: 300px;
      top: 0px;
    }

    .outline .children0 {
      border-top: 1px solid #313131;
    }

    .outline ul {
      padding-left: 0px;
    }

    .outline .children {
      padding-left: 25px;
    }

    /* .outline ul .item_toggle { */

    /* display: inline-block; */

    /* width: 16px; */

    /* height: 16px; */

    /* line-height: 16px; */

    /* text-align: center; */

    /* vertical-align: middle; */

    /* background-color: rgba(255, 255, 255, 0.452) */

    /* } */

    .outline ul .item_name {
      margin-left: 0px;
    }
  </style>
  <!-- lib3 -->
  <script type="text/javascript" src="lib3/path.js"></script>
  <script type="text/javascript" src="lib3/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="lib3/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
  <script type="text/javascript" src="lib3/vue.js"></script>
  <!-- lib3 -->
  <script type="text/javascript" src="js/pdfjs/pdf.js"></script>
  <!-- lib1 -->
  <script type="text/javascript" src="js/lib1/Common.js"></script>
  <script type="text/javascript" src="js/lib1/JQueryExtend.js"></script>
  <!-- webgl lib -->
  <script src="../lib3/webgl.lib/webgl-utils.js"></script>
  <script src="../lib3/webgl.lib/webgl-debug.js"></script>
  <script src="../lib3/webgl.lib/cuon-utils.js"></script>
  <!-- my js -->
  <script type="text/javascript" src="js/MarkWebgl.js"></script>
  <script type="text/javascript" src="js/PdfViewer.js"></script>
  <script type="text/javascript">
    window.onload = function () {
      new PdfViewer().init()
    }
  </script>
</head>

<body>
  <!-- doc -->
  <section class="doc">
    <!-- button bar -->
    <div class="buttonBar">
      <!-- page -->
      <span>Page:</span>
      <button @click='onPagePrev'>-</button>
      <span>
        <span>{{pageNum}}</span> /
        <span>{{pageTotal}}</span>
      </span>
      <button @click='onPageNext'>+</button>
      <!-- scale -->
      <span>Scale:</span>
      <button @click="onZoomOut">-</button>
      <span>
        <span class="label_scale">{{pageScale}}</span>
      </span>
      <button @click="onZoomIn">+</button>
    </div>
    <!-- canvas -->
    <canvas ref='canvas'>Canvas is not supported</canvas>
    <canvas ref='canvasMark' v-drag="getTouchOption" @mouseWheel="onMouseWheel($event)"></canvas>
  </section>
  <!-- outline -->
  <section class="outline">
    <div class="buttonBar" v-drag="getTouchOption">
      <span class="section_name">Outline:</span>
      <button @click="showContent=!showContent">Toggle</button>
      <!-- <button class="btn_drag" v-drag="getDragTarget">Drag</button> -->
    </div>
    <item class="children0" :models="treeData" v-if="showContent">
    </item>
  </section>
  <!-- log -->
  <section class="log">
    <div class="buttonBar" v-drag="getTouchOption">
      <span class="section_name">Log:</span>
      <button @click="showContent=!showContent">Toggle</button>
      <!-- <button class="btn_drag" v-drag="getDragTarget">Drag</button> -->
    </div>
    <div v-if="showContent" ref="content" v-html="content"></div>
  </section>
  <!-- vue 组件 -->
  <template id="template_outline_item">
    <ul>
      <li class="list-unstyled" v-for="model in models" :key="model.uuid">
        <div>
          <button @click="onToggleItem(model)" role="button" class="item_toggle" :style="{'visibility': model.children.length>0?'visible':'hidden'}">{{model.isOpen?'-':'+'}}</button>
          <button @click="onLinkItem(model)" role="button" class="item_name">{{model.name}}</button>
        </div>
        <!-- 组件中引用当前组件，传入下级数据 -->
        <item class="children" :models="model.children" v-show="model.isOpen">
        </item>
      </li>
    </ul>
  </template>
  <!-- <script>
    // tell the embed parent frame the height of the content
    if (window.parent && window.parent.parent) {
      window.parent.parent.postMessage(["resultsFrame", {
        height: document.body.getBoundingClientRect().height,
        slug: "9engc9mw"
      }], "*")
    }
  </script> -->

</body>

</html>