<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
  <title>Bootstrap 101 Template</title>

  <!-- Bootstrap -->
  <link href="js/lib3/bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">
  <!-- <link href="css/docs.css" rel="stylesheet"> -->

  <style>
    #all {
      margin: 1em;
    }

    .row {
      margin-left: 0;
      margin-right: 0;
    }

    .margin_right_space {
      margin-right: 1em;
    }

    .other_button {
      margin-top: 2px;
    }

    .checkbox_icon {
      padding-right: 2px;
    }

    .checkbox_txt {
      padding-left: 2px;
    }
  </style>

</head>

<body onload="fileManager.onload()">
  <div id="all">
    <!-- Path -->
    <section class="row">
      <div class="input-group" style="width: 50em;">
        <span class="input-group-btn">
          <button type="button" class="btn btn-default" aria-label="Left Align" :disabled="!canBackCurrPath" title="Back" v-if="true"
            @click="onBackCurrPath()">
            <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
          </button>
          <button type="button" class="btn btn-default" aria-label="Left Align" title="Open Folder" v-if="false">
            <span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
          </button>
        </span>
        <input type="text" class="form-control" placeholder="Path" v-model:value="currPath" @keyup.enter="onGo()">
        <span class="input-group-btn">
          <button class="btn btn-primary" type="button" @click="onGo()">Enter</button>
        </span>
      </div>
      <!-- /input-group -->
      <!-- /.col-lg-6 -->
    </section>
    <!-- msg -->
    <!-- <hr v-if="msg || error"> -->
    <section class="row" v-if="msg || error" style="margin-top: 10px;">
      <div class="alert alert-success" role="alert" v-if="msg">{{msg}}</div>
      <div class="alert alert-danger" role="alert" v-if="error">{{error}}</div>
    </section>
    <!-- Random -->
    <hr>
    <section class="row" style="height: 3em;">
      <div class="col-lg-2" style="padding: 0;">
        <button type="button" class="btn btn-warning" aria-label="Left Align" @click="showRandom=!showRandom">
          <span :class="['glyphicon',{'glyphicon-minus':showRandom,'glyphicon-plus':!showRandom}]" aria-hidden="true"></span> Random
        </button>
        <button type="button" class="btn btn-default" @click="onRandomRefresh()" title="Refresh" v-if="showRandom">
          <span class="glyphicon glyphicon-refresh"></span>
        </button>
      </div>
    </section>
    <section class="row" v-if="showRandom">
      <div class="col-lg-12">
        <ul class="list-group">
          <li :class="['list-group-item',{'list-group-item-info':index%2==0}]" v-for="item,index in randomItems">
            <button type="button" class="btn btn-sm btn-default" @click="onRandomOpenFolder($event,item)" style="float:inherit;" title="Open Folder">
              <span class="glyphicon glyphicon-folder-open"></span>
            </button>
            <button type="button" class="btn btn-sm btn-success" @click="onRandomPlay($event,item)" title="Play File">
              <span class="glyphicon glyphicon-play"></span>
            </button>
            <span v-text="item.name">
            </span>
            <!-- <span v-text="item.parent" style="float: right;color: #999999;margin-top: 0.3em;margin-right: 0em;">
            </span> -->
          </li>
        </ul>
      </div>
    </section>
    <!-- children -->
    <hr>
    <section class="row" style="margin-bottom: 0.5em;">
      <!-- toggle btn `Children` -->
      <div class="col-lg-1" style="padding: 0;">
        <button type="button" class="btn btn-warning" aria-label="Left Align" @click="showChildren=!showChildren">
          <span :class="['glyphicon',{'glyphicon-minus':showChildren,'glyphicon-plus':!showChildren}]" aria-hidden="true"></span> Children
        </button>
      </div>
      <!-- btn group for selected all -->
      <div class="col-lg-11" v-if="showChildren" style="margin-top: 0em;">
        <div class="btn-group margin_right_space" aria-label="..." style="float: right;">
          <!-- select all -->
          <div class="input-group margin_right_space" style="width:8em;height:2.43em;margin-right: 32.6em; float: left;" @click="onChildrenSelectAll($event)"
            role="button">
            <span class="input-group-addon checkbox_icon">
              <label :class="['glyphicon',{'glyphicon-check':childrenSelectedAll,'glyphicon-unchecked':!childrenSelectedAll}]" />
            </span>
            <span class="input-group-addon checkbox_txt">
              Select All Files
            </span>
          </div>
          <!-- button group -->
          <button type="button" class="btn btn-primary margin_right_space" @click="onSubmit($event,null)">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
          </button>
          <!-- other button -->
          <button type="button" class="btn btn-sm btn-default other_button" @click="onReset($event,null)" v-if="false">Reset</button>
          <button type="button" class="btn btn-sm btn-default other_button" @click="onLower($event,null)">Lower</button>
          <button type="button" class="btn btn-sm btn-default other_button" @click="onAddMiddleLine($event,null)">Add `-`</button>
          <button type="button" class="btn btn-sm btn-default other_button" @click="onSwapSecond($event,null)">Swap 1 2</button>
          <button type="button" class="btn btn-sm btn-default other_button" @click="onSwapFull($event,null)">Swap Full</button>
          <!--  -->
        </div>
      </div>
    </section>
    <!-- children list -->
    <section class="row" v-if="showChildren">
      <div class="col-lg-12">
        <ul class="list-group">
          <li :class="['list-group-item',{'list-group-item-info':index%2==0&&item.isDir==false,'list-group-item-success':index%2==0&&item.isDir}]"
            v-for="item,index in childItems">
            <div class="row">
              <span style="font: 125% bold;">
                {{item.name}}
              </span>
              <span style="float: right;color: #999999;" v-if="false">
                {{item.parent}}
              </span>
            </div>
            <div class="row">
              <button type="button" class="btn btn-sm btn-default" @click="onChildFolderOpen($event,item)" title="Open Folder">
                <span class="glyphicon glyphicon-folder-open"></span>
              </button>
              <button type="button" class="btn btn-sm btn-info" @click="onChildFolderEnter($event,item)" title="Enter Folder" v-if="item.isDir">
                <span class="glyphicon glyphicon-log-in"></span>
              </button>
              <button type="button" class="btn btn-sm btn-success" @click="onChildFilePlay($event,item)" title="Play File" v-if="!item.isDir">
                <span class="glyphicon glyphicon-play"></span>
              </button>
              <span class="btn-group row" role="group" aria-label="..." style="float: right;">
                <!-- select -->
                <span class="input-group margin_right_space" style="width:1em; float: left;" @click="onChildrenItemSelect($event,item)" role="button"
                  v-if="item.isDir==false">
                  <span class="input-group-addon checkbox_icon">
                    <label :class="['glyphicon',{'glyphicon-check':item.selected,'glyphicon-unchecked':!item.selected}]" />
                  </span>
                  <span class="input-group-addon checkbox_txt">
                    Select
                  </span>
                </span>
                <!-- new name input -->
                <span class="input-group " style="width:30em; float: left;">
                  <span class="input-group-addon">
                    New Name:
                  </span>
                  <input type="text" class="form-control" aria-label="..." :checked="item.selected" v-model:value="item.newName" @keyup.enter="onSubmit($event,item)">
                </span>
                <button type="button" class="btn btn-default" @click="onReset($event,item)">
                  <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-primary margin_right_space" @click="onSubmit($event,item)">
                  <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                </button>
                <!-- other button -->
                <button type="button" class="btn btn-sm btn-default other_button" @click="onLower($event,item)">Lower</button>
                <button type="button" class="btn btn-sm btn-default other_button" @click="onReplaceWithMiddleLine($event,item)" title="Replace ` ` with `-`">ReW `-`</button>
                <button type="button" class="btn btn-sm btn-default other_button" @click="onAddMiddleLine($event,item)">Add `-`</button>
                <button type="button" class="btn btn-sm btn-default other_button" @click="onSwapSecond($event,item)">Swap 1 2</button>
                <button type="button" class="btn btn-sm btn-default other_button" @click="onSwapFull($event,item)">Swap Full</button>
                <!--  -->
              </span>
            </div>
          </li>
        </ul>
      </div>
    </section>
  </div>
  <!--javascript-->
  <!-- js/lib3 -->
  <script type="text/javascript" src="js/lib3/path.js"></script>
  <script type="text/javascript" src="js/lib3/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="js/lib3/vue.js"></script>
  <script type="text/javascript" src="js/lib3/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
  <!-- lib1 -->
  <script type="text/javascript" src="js/lib1/Common.js"></script>
  <script type="text/javascript" src="js/lib1/JQueryExtend.js"></script>
  <!-- my js -->
  <script type="text/javascript" src="js/FileManager.js"></script>
</body>

</html>